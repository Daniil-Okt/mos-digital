!function(){"use strict";var e=Object.defineProperty;const t=class e{static get isAndroid(){return Boolean(e.userAgent.match(/Android/i))}static get isBlackBerry(){return Boolean(e.userAgent.match(/BlackBerry/i))}static get isAppleOS(){return Boolean(e.userAgent.match(/iPhone|iPad|iPod/i))}static get isOpera(){return Boolean(e.userAgent.match(/Opera Mini/i))}static get isWindows(){return Boolean(e.userAgent.match(/IEMobile/i))}static get isAny(){return e.isAndroid||e.isBlackBerry||e.isAppleOS||e.isOpera||e.isWindows}};((t,n,i)=>{n in t?e(t,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[n]=i})(t,"userAgent"+"",navigator.userAgent);var n=t,i=Object.defineProperty,s=(e,t,n)=>((e,t,n)=>t in e?i(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n);const o=class e{static checkWebpSupport(){(()=>{const t=new Image;t.onload=t.onerror=()=>(t=>{const n=t?"webp":"no-webp";e.html.classList.add(n),console.log(t?"webp поддерживается":"webp не поддерживается")})(2===t.height),t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"})()}static addTouchClass(){n.isAny&&e.html.classList.add("touch")}static addLoadedClass(){window.addEventListener("load",(()=>{setTimeout((()=>{e.html.classList.add("loaded")}),1e3)}))}static get getHash(){var e;return null==(e=location.hash)?void 0:e.replace("#","")}static setHash(e){e=e?`#${e}`:location.href.split("#")[0],history.pushState("","",e)}static headerFixed(t=0){t>0?window.addEventListener("scroll",(()=>{const n=window.scrollY||document.documentElement.scrollTop;e.html.classList.toggle("header-is-sticky",n>t)})):e.firstScreen&&new IntersectionObserver((([t])=>{e.html.classList.toggle("header-is-sticky",!t.isIntersecting)})).observe(e.firstScreen)}};s(o,"html",document.documentElement),s(o,"header",document.querySelector(".header")),s(o,"firstScreen",document.querySelector("[data-observ]"));var a=o,r=class{constructor(){this.html=document.documentElement,this.body=document.body,this.pageWrapper=document.querySelector(".page"),this.lockPaddingElements=document.querySelectorAll("[data-lp]")}toggleBodyLock(e){const t=window.innerWidth-this.pageWrapper.offsetWidth;this.lockPaddingElements&&this.lockPaddingElements.forEach((n=>{n.style.paddingRight=e?`${t}px`:"0px"})),this.body.style.paddingRight=e?`${t}px`:"0px",this.html.classList.toggle("lock",e)}};Object.defineProperty,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;class c{constructor(e){this.element=e,this.cube=e.querySelector(".cube"),this.faces=e.querySelectorAll(".cube__face"),this.opacityEl=e.querySelector(".cube-anim__opacity"),this.delay=parseInt(e.getAttribute("data-delay"))||1e3,this.angle=0,this.isAnimating=!1,this.animationTimeout=null,this.visibilityChangeHandler=this.handleVisibilityChange.bind(this),this.findAndSetWidestWord(),this.init()}findAndSetWidestWord(){if(!this.opacityEl)return;let e=0,t="";this.faces.forEach((n=>{n.textContent.trim().split();const i=n.offsetWidth;i>e&&(e=i,t=n.textContent)})),this.opacityEl.textContent=t}init(){this.cube&&(document.addEventListener("visibilitychange",this.visibilityChangeHandler),setTimeout((()=>{this.startAnimation()}),500))}handleVisibilityChange(){document.hidden?this.stopAnimation():this.startAnimation()}startAnimation(){this.isAnimating||(this.isAnimating=!0,this.animate())}stopAnimation(){this.isAnimating=!1,this.animationTimeout&&(clearTimeout(this.animationTimeout),this.animationTimeout=null)}animate(){this.isAnimating&&(this.angle+=90,this.cube.style.transform=`rotateX(${this.angle}deg)`,this.animationTimeout=setTimeout((()=>{this.animate()}),this.delay))}destroy(){this.stopAnimation(),document.removeEventListener("visibilitychange",this.visibilityChangeHandler)}}a.checkWebpSupport(),a.addLoadedClass(),a.headerFixed(),(new class extends r{constructor(){super(),this.burgerButton=document.querySelector(".icon-menu")}init(){this.burgerButton&&document.addEventListener("click",(({target:e})=>{e.closest(".icon-menu")&&(this.html.classList.toggle("menu-open"),this.toggleBodyLock(this.isMenuOpen))}))}menuOpen(){this.toggleBodyLock(!0),this.html.classList.add("menu-open")}menuClose(){this.toggleBodyLock(!1),this.html.classList.remove("menu-open")}get isMenuOpen(){return this.html.classList.contains("menu-open")}}).init(),window.innerWidth,window.addEventListener("load",(()=>{setTimeout((()=>{document.querySelectorAll(".running").forEach((e=>{e.querySelectorAll(".running__row[data-clone]").forEach((e=>e.remove()));const t=e.querySelector(".running__row");if(!t)return;const n=e.classList.contains("reverse"),i=t.innerHTML,s=e.offsetWidth;let o=t.offsetWidth;for(;o<s;)t.innerHTML+=i,o=t.offsetWidth;const a=t.cloneNode(!0);a.setAttribute("data-clone","true"),e.appendChild(a);const r=t.offsetWidth,c=parseInt(e.dataset.speed)||100,l=`runningAnim-${Math.random().toString(36).substr(2,8)}`,d=document.createElement("style");d.textContent=`\n            #${e.id||l} .running__row {\n                display: inline-flex;\n                animation: ${l} ${r/c}s linear infinite;\n            }\n            \n            ${n?`\n                @keyframes ${l} {\n                    0% { transform: translateX(-${r}px); }\n                    100% { transform: translateX(0); }\n                }\n            `:`\n                @keyframes ${l} {\n                    0% { transform: translateX(0); }\n                    100% { transform: translateX(-${r}px); }\n                }\n            `}\n        `,document.head.appendChild(d),e.id||(e.id=l),e.dataset.styleElement=l}))}),10)}));const l=document.querySelectorAll(".direct-port__menu-item");var d;(d=l).forEach((function(e){e.addEventListener("click",(function(){d.forEach((function(t){t!==e&&t.classList.remove("_active")})),e.classList.toggle("_active")}))})),function(){const e=document.querySelector(".btn-theme");function t(){e.classList.remove("_active"),document.documentElement.classList.remove("white-theme"),window.matchMedia("(max-width: 650px)").matches?e.querySelector(".slide-anim").dataset.content="вкл":e.querySelector(".slide-anim").dataset.content="Включить свет"}function n(){e.classList.add("_active"),document.documentElement.classList.add("white-theme"),window.matchMedia("(max-width: 650px)").matches?e.querySelector(".slide-anim").dataset.content="выкл":e.querySelector(".slide-anim").dataset.content="Выключить свет"}function i(){"white"==localStorage.getItem("theme")?n():t()}e&&e.addEventListener("click",(()=>{e.classList.contains("_active")?(t(),localStorage.setItem("theme","black")):(n(),localStorage.setItem("theme","white"))})),i(),window.addEventListener("resize",i)}(),window.innerWidth>1024&&function(){const e=document.querySelector(".cursor-follower");if(!e)return;e.style.position="fixed",e.style.pointerEvents="none",e.style.transform="translate(-50%, 0%)",e.style.opacity="0",e.style.whiteSpace="normal",e.style.textAlign="center";let t=window.innerWidth/2,n=window.innerHeight/2,i=t,s=n;e.style.left=`${t}px`,e.style.top=`${n}px`,document.addEventListener("mousemove",(t=>{i=t.clientX,s=t.clientY,e.style.opacity="1"})),function o(){t+=.2*(i-t),n+=.2*(s-n),e.style.left=`${t}px`,e.style.top=`${n}px`,requestAnimationFrame(o)}(),document.querySelectorAll("[data-cursor-hover]").forEach((t=>{t.addEventListener("mouseenter",(()=>{const n=t.dataset.cursorHover;n&&e&&(e.classList.add("hover-effect"),e.innerHTML=function(e){const t=document.createElement("div");t.innerHTML=e;let n=document.createTreeWalker(t,NodeFilter.SHOW_TEXT,null,!1).nextNode();if(n&&n.nodeValue.trim()){const e=n.nodeValue.split(/(\s+)/);if(e.length>1){const t=document.createDocumentFragment();t.appendChild(document.createTextNode(e[0])),e[1]&&t.appendChild(document.createTextNode(e[1])),t.appendChild(document.createElement("br")),e.length>2&&t.appendChild(document.createTextNode(e.slice(2).join(""))),n.parentNode.replaceChild(t,n)}}return t.innerHTML}(n))})),t.addEventListener("mouseleave",(()=>{e&&(e.classList.remove("hover-effect"),e.innerHTML="")}))}));const o=document.querySelectorAll("[data-cursor-white]");let a=null;o.forEach((t=>{t.addEventListener("mouseenter",(()=>{a=t,function(){if(!e||!a)return;const t=e.getBoundingClientRect(),n=a.getBoundingClientRect();t.right<n.left||t.left>n.right||t.bottom<n.top||t.top>n.bottom?e.classList.remove("white"):e.classList.add("white")}()})),t.addEventListener("mouseleave",(()=>{a===t&&(a=null,null==e||e.classList.remove("white"))}))}))}(),function(){const e=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,t=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)&&!/CriOS|FxiOS/.test(navigator.userAgent),n=/Macintosh/.test(navigator.userAgent)&&!window.MSStream;(e||t)&&(n&&!t||(console.log(t),document.querySelectorAll(".showreel-video").forEach((e=>{const t=e.parentElement,n=e.getAttribute("poster"),i=e.querySelectorAll("source"),s=document.createElement("picture");s.classList.add("showreel-video"),i.forEach((e=>{const t=document.createElement("source");t.srcset=e.src,t.type=e.type,s.appendChild(t)}));const o=document.createElement("img");o.src=n,o.loading="lazy",o.alt="Video poster",o.style.width="100%",s.appendChild(o),t.replaceChild(s,e)}))))}(),function(){const e=document.querySelector(".about");e&&e.classList.add("sticky")}(),function(){const e=document.querySelector(".about__connect"),t=document.querySelector(".about__close-connect");e&&t&&(e.addEventListener("click",(()=>{e.classList.add("_active"),t.classList.add("_active")})),t.addEventListener("click",(()=>{e.classList.remove("_active"),t.classList.remove("_active")})))}(),window.innerWidth>550&&document.querySelectorAll(".cube-anim").forEach((e=>{new c(e)}))}();